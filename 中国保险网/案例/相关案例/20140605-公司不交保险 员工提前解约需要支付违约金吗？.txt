王女士2008年1月1日到某外贸公司从事会计工作，双方签订了为期3年的劳动合同。单位派王女士赴与该单位业务关联度较高的A国进行了对外贸易相关的专项业务培训，为期二个月，公司为此支付相关培训费用4万元。公司与王女士签订补充协议，双方约定服务期六年，若由于王女士的原因提前主动离职的，视为违反协议约定，需赔偿公司人民币6万元。王女士回国后，安心在该公司工作，但自2010年起，该公司屡次未按规定为全部职工缴纳社会保险费。王女士作为会计人员，知道公司其实是有能力缴纳这些费用的，于是，王女士多次提醒老板，要求其补缴所欠的社会保险费，但是，老板不仅不同意，为平息员工质问，老板还要求王女士制作假账，以公司经营困难为由不为员工缴纳社会保险费。2010年6月，王女士向公司提出辞职，公司为王女士办理了退工手续，并要求王女士支付违约金3.5万元。请问，双方约定服务期期限和内容合法吗？王女士是否需要支付违约金？如需支付，应支付多少费用？[分析]1、服务期年限法律没有明确规定，可由劳动合同双方当事人协议确定。本案中，公司与王女士约定的服务期限六年符合法律规定。2、根据《中华人民共和国劳动合同法》第二十二条的规定，用人单位与劳动者应依法约定违约金，约定的违约金数额不得超过用人单位所提供的培训费用。因此，本案中约定的违约金数额是无效的。3、用人单位与劳动者约定了服务期，劳动者依照劳动合同法第三十八条规定解除劳动合同的，不属于违反服务期约定，用人单位不得要求劳动者支付违约金。本案中，由于单位违法在先，因此王女士无需支付服务期未履行部分所应分摊的培训费用。4、因劳动者的过错被用人单位解除约定了服务期协议的劳动合同的，劳动者应当按照服务期协议的约定，向用人单位支付违约金。[假设]如果本案中单位不存在不缴纳社会保险的问题，而是因王女士的过错(如严重失职、营私舞弊，给单位造成重大损害的等)导致公司与其解除原定的三年期劳动合同的，或王女士因个人原因提出主动辞职的，则王女士需要支付与服务期未履行部分所应分摊的培训费用相对应的违约金，即40000元/6年×3.5年=23333元。感谢杭州市高新区人事局张小良提供案例